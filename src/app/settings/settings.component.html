<div class="h-full flex flex-col">
    <div class="w-full h-10 p-1 px-2 space-x-2 bg-cyan-500 flex flex-row">
        <div>
            <img src="icon128.png" class="h-full">
        </div>
        <div class="justify-items-center grow">
            <div class="font-sans text-lg text-white">Settings</div>
        </div>
        <div>
            <a routerLink="/" routerLinkActive="active" ariaCurrentWhenActive="page">
                <!-- https://cdn.jsdelivr.net/npm/heroicons@2.1.3/24/outline/home.svg -->
                <svg viewBox="0 0 24 24" class="h-full py-0.5 fill-none stroke-current text-white stroke-1">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
                </svg>
            </a>
        </div>
    </div>

    @if (settings !== null) {
        <!-- <div class="absolute z-10 min-w-full px-12 flex flex-col top-4"> -->
        <div class="min-w-full px-2 py-2 bg-slate-100 flex flex-col grow">

            <ul>
                @for (setting of settings ; track setting.label) {
                    <li class="flex flex-col my-2">
                        <p>{{setting.label}}</p>
                        <span class="font-light text-gray-500 text-sm">{{setting.description}}</span>
                        <input class="p-2 placeholder:text-slate-300 outline outline-1 outline-slate-200 focus:outline-cyan-500 rounded-sm" type="text" autocomplete="off" [(ngModel)]="setting.value" name="{{setting.value}}" ngDefaultControl placeholder="{{setting.label}}">
                    </li>
                }
            </ul>
            <!-- <div class="flex flex-col justify-end grow"> -->
            <div class="flex flex-row gap-2 place-self-end justify-end">
                <input type="button" class="px-4 py-2 bg-cyan-500 text-white rounded-md" value="Apply" (click)="onClick(true)">
                <input type="button" class="px-4 py-2 bg-slate-200 text-slate-500 rounded-md" value="Cancel" (click)="onClick(false)">
            </div>
            <!-- </div> -->
        </div>
    } 
    @else {
        <div class="min-w-full px-2 py-2 bg-slate-100 flex flex-col grow">
            <input #passphrase type="password" class="p-2 placeholder:text-slate-300 outline outline-1 outline-slate-200 focus:outline-cyan-500 rounded-sm" [(ngModel)]="passphrase" name="passphrase" ngDefaultControl placeholder="Passphrase">
            <input type="button" class="px-4 py-2 bg-cyan-500 text-white rounded-md" value="Unlock" (click)="unlock(passphrase.value)">
        </div>
    }
</div>
